"use strict";angular.module("webappApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngTable"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/summary",{templateUrl:"views/summary.html",controller:"SummaryCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("webappApp").controller("MainCtrl",["$rootScope","$scope","$location",function(a,b,c){var d=b.defaults=[{id:1},{id:2}];a.prices=a.prices||d,b.reset=function(){a.prices=d},b.calculate=function(){a.prices.forEach(function(a){a.calcPrice()}),c.path("/summary")}}]),angular.module("webappApp").directive("unitPriceCalc",function(){return{templateUrl:"views/directives/unit-price-calc.html",restrict:"E",scope:{data:"="},link:function(a){function b(){a.data.unitPrice=a.data.price/a.data.qtyNum}a.data.calcPrice=b,a.$watch("data.quantity",function(c){if(c){var d=c.trim().split(" "),e=parseFloat(d[0]);a.data.qtyNum=e,a.data.unit=d.splice(1).join(" "),b()}}),a.$watch("data.price",function(){b()})}}}),angular.module("webappApp").controller("SummaryCtrl",["$rootScope","$scope","$filter","$location","ngTableParams",function(a,b,c,d,e){b.tableParams=new e({page:1,count:5,sorting:{unitPrice:"asc"}},{total:a.prices?a.prices.length:0,counts:[],getData:function(b,d){var e=a.prices,f=d.sorting()?c("orderBy")(e,d.orderBy()):e;b.resolve(f)}}),b.back=function(b){b||(a.prices=[]),d.path("/")}}]);