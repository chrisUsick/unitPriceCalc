"use strict";angular.module("webappApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngTable"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/summary",{templateUrl:"views/summary.html",controller:"SummaryCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope",function(a){a.shared={}}]),angular.module("webappApp").controller("MainCtrl",["$rootScope","$scope","$location",function(a,b,c){var d=b.defaults=a.defaults={prices:[{id:1},{id:2}],useUnits:!1};a.prices=a.prices||d.prices,a.shared.useUnits=a.shared.useUnits||d.useUnits,b.reset=function(){a.prices=d.prices},b.calculate=function(){a.prices.forEach(function(a){a.calcPrice()}),c.path("/summary")}}]),angular.module("webappApp").directive("unitPriceCalc",function(){return{templateUrl:"views/directives/unit-price-calc.html",restrict:"E",scope:{data:"=",units:"="},link:function(a){function b(){a.data.unitPrice=a.data.price/a.data.quantity}a.data.calcPrice=b}}}),angular.module("webappApp").controller("SummaryCtrl",["$rootScope","$scope","$filter","$location","ngTableParams",function(a,b,c,d,e){console.log(a.shared.useUnits),b.tableParams=new e({page:1,count:5,sorting:{unitPrice:"asc"}},{total:a.prices?a.prices.length:0,counts:[],getData:function(b,d){var e=a.prices,f=d.sorting()?c("orderBy")(e,d.orderBy()):e;b.resolve(f)}}),b.back=function(b){!b&&a.prices&&(a.prices=a.defaults.prices),d.path("/")}}]);